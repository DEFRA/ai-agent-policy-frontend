{% extends 'layouts/page.njk' %}

{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/details/macro.njk" import govukDetails %}

{% block content %}
  {{ appHeading({
    text: heading,
    caption: "AI-powered analysis and insights for your parliamentary answer request."
  }) }}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
      
      <div class="govuk-notification-banner" role="region" aria-labelledby="govuk-notification-banner-title" data-module="govuk-notification-banner">
        <div class="govuk-notification-banner__header">
          <h2 class="govuk-notification-banner__title" id="govuk-notification-banner-title">
            Success
          </h2>
        </div>
        <div class="govuk-notification-banner__content">
          <h3 class="govuk-notification-banner__heading">
            Your parliamentary answer analysis is complete
          </h3>
          <p class="govuk-body">You can now review the AI-generated insights and draft response below.</p>
        </div>
      </div>

      <div class="govuk-grid-row govuk-!-margin-top-6">
        <div class="govuk-grid-column-two-thirds">
          
          <h2 class="govuk-heading-l">Analysis Results</h2>
          
          <p class="govuk-body-lead">
            Based on your parliamentary answer request, we have generated the following analysis and draft response.
          </p>

          <div class="govuk-inset-text">
            <p class="govuk-body-s"><strong>Important:</strong> This is a draft response generated by AI. Please review and verify all information before use.</p>
          </div>

        </div>
      </div>

      <div class="govuk-grid-row govuk-!-margin-top-6">
        <div class="govuk-grid-column-full">
          
          <div class="govuk-button-group">
            {{ govukButton({
              text: "Generate another answer",
              href: "/parliamentary-answer",
              classes: "govuk-button--secondary",
              attributes: {
                "data-testid": "new-answer-button"
              }
            }) }}
            
            <a class="govuk-link" href="/" data-testid="home-link">Return to home</a>
          </div>

        </div>
      </div>

      {{ govukDetails({
        summaryText: "About this analysis",
        html: '
          <p>This AI-powered analysis includes:</p>
          <ul class="govuk-list govuk-list--bullet">
            <li>Relevant policy documents and precedents</li>
            <li>Key facts and statistics from official sources</li>
            <li>Similar parliamentary answers and responses</li>
            <li>Draft response suggestions based on past examples</li>
            <li>Quality assessment and improvement recommendations</li>
          </ul>
          <p class="govuk-body-s">All information should be verified through official channels before use in parliamentary responses.</p>
        '
      }) }}

    </div>
  </div>
{% endblock %} 